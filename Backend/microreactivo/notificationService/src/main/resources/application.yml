server:
  port: 8084

spring:
  application:
    name: notification-service

  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME}      # ← corregido de MAIL_USER a MAIL_USERNAME
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
          connection-timeout: 5000
          timeout: 5000
          write-timeout: 5000

management:
  endpoints:
    web:
      exposure:
        include: health,info
      base-path: /actuator
  endpoint:
    health:
      show-details: always
  health:
    mail:
      enabled: false    # ← CRÍTICO: evita que Gmail tumbe el healthcheck

logging:
  level:
    com.ubik.notificationservice: INFO
    org.springframework.mail: DEBUG
