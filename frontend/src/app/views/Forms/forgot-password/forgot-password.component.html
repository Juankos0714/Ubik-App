<form [formGroup]="form">

  <!-- STEP 1 -->
  @if (step() === 1) {
    <div class="space-y-4">

      <div>
        <label class="text-sm">Correo electrónico</label>

        <input
          type="email"
          formControlName="email"
          placeholder="ejemplo@email.com"
          class="w-full px-3 py-2 rounded-lg bg-gray-700 border border-gray-600"
        />
      </div>

      <button
        (click)="sendEmail()"
        [disabled]="loading()"
        class="w-full bg-linear-to-r from-[#6E2A35] to-[#A72027] py-2 rounded-lg"
      >
        {{ loading() ? 'Enviando...' : 'Enviar token' }}
      </button>

    </div>
  }

  <!-- STEP 2 -->
  @if (step() === 2) {
    <div class="space-y-4">

      <input type="text" formControlName="token" placeholder="Token"
        class="w-full px-3 py-2 rounded-lg bg-gray-700 border border-gray-600" />

      <input type="password" formControlName="newPassword" placeholder="Nueva contraseña"
        class="w-full px-3 py-2 rounded-lg bg-gray-700 border border-gray-600" />

      <button
        (click)="resetPassword()"
        [disabled]="loading()"
        class="w-full bg-green-600 py-2 rounded-lg"
      >
        {{ loading() ? 'Cambiando...' : 'Cambiar contraseña' }}
      </button>

    </div>
  }

</form>

